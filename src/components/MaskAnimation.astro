<section class="overflow-hidden">
  <div id="mask" class="unlocked">
        <div id="background">
          <div class="relative z-2">
            <slot />
          </div>
        </div>
  </div>
</section>

<style>
    #background {
      background-color: #262626;
    }
    @keyframes lock-reveal {
        100% {
            mask-size: 2000vh;
        }
    }
    #mask {
        mask-image: url("/balloon.svg");
        mask-position: center center;
        mask-repeat: no-repeat;
        mask-size: 50px;
        position: fixed;
        inset: 0;

        &.animated {
            animation: lock-reveal 7s forwards ease-in-out;
        }
        &.unlocked {
            position: relative;
            mask-size: 2000vh;
        }
    }
</style>
<script>
  (function(){
    const maskEl = document.querySelector('#mask');
    maskEl?.classList.add('animated');

    // Si hay override en localStorage, que tenga prioridad sobre la prop renderizada en servidor
    try {
      const stored = localStorage.getItem('useMask'); // "true" | "false" | null
      if (stored !== null) {
        const noUse = stored === 'true';
        if (!noUse) {
          maskEl?.classList.add('unlocked');
        } else {
          maskEl?.classList.remove('unlocked');
        }
      }
    } catch (e) {
      // noop
    }
  })();
</script>